<div class="p-3">
    <div [formGroup]="formSearch" class="" (submit)="search()">
        <div class="text-lg-custom text-high-light fw-bolder">Tìm kiếm giao dịch</div>
        <div class="d-flex flex-wrap mt-3">
            <div class="col-4">
                <label for="" class="text-high-light fw-bolder">Số batch</label>
                <div>
                    <input type="text" class="form-control" formControlName="batchNo" placeholder="Nhập số batch" trimInput>
                </div>
            </div>
            <div class="col-4">
                <label for="" class="text-high-light fw-bolder">Tên file</label>
                <div>
                    <input type="text" class="form-control" formControlName="fileName" placeholder="Nhập tên file" trimInput>
                </div>
            </div>
            <div class="col-4">
                <label for="" class="text-high-light fw-bolder">Chi nhánh</label>
                <div>
                    <app-lpb-select2 [apiUrl]="'/electric-service/branch'" labelName="name" bindValue="code"
                        formControlName="branchCode" placeholder="Chọn chi nhánh"></app-lpb-select2>
                </div>
            </div>
            <div class="col-4 mt-3">
                <label for="" class="text-high-light fw-bolder">Người tạo</label>
                <div>
                    <app-lpb-select2 [apiUrl]="'/electric-service/branch/accounts?roleType=GDV'" labelName="userName"
                        bindValue="userName" formControlName="createdUser"
                        placeholder="Chọn người tạo"></app-lpb-select2>
                </div>
            </div>
            <div class="col-4 mt-3">
                <label for="" class="text-high-light fw-bolder">Người duyệt</label>
                <div>
                    <app-lpb-select2 [apiUrl]="'/electric-service/branch/accounts?roleType=KSV'" labelName="userName"
                        bindValue="userName" formControlName="approvedUser"
                        placeholder="Chọn người duyệt"></app-lpb-select2>
                </div>
            </div>
            <div class="col-4 mt-3">
                <label for="" class="text-high-light fw-bolder">Trạng thái batch</label>
                <div>
                    <app-lpb-select2 [items]="transactionStatus" labelName="label" bindValue="value"
                        formControlName="transactionStatus" placeholder="Chọn trạng thái batch"></app-lpb-select2>
                </div>
            </div>
            <div class="col-4 mt-3">
                <label for="" class="text-high-light fw-bolder">Từ ngày</label>
                <div>
                    <app-lpb-date-picker #dpDateFrom [maxDate]="getToday()" (blurInput)="checkValidateDate()"
                        (dateChanged)="getFromDate()"></app-lpb-date-picker>
                </div>
            </div>
            <div class="col-4 mt-3">
                <label for="" class="text-high-light fw-bolder">Đến ngày</label>
                <div>
                    <app-lpb-date-picker #dpDateTo [maxDate]="getToday()" (blurInput)="checkValidateDate()"
                        (dateChanged)="getToDate()"></app-lpb-date-picker>
                </div>
            </div>
        </div>
        <div class="text-center mt-4">
            <button type="submit" class="btn lpb-btn-primary" (click)="search()"><i class="fa fa-search"></i> Tìm
                kiếm</button>
            <button (click)="retype()" class="btn bg-white ml-3 border text-high-light fw-bolder "><i
                    class="fa fa-rotate-left fw-bolder"></i> Nhập lại</button>
        </div>
    </div>

    <div>
        <app-lpb-datatable tableName="Kết quả tìm kiếm" [config]="config" [searchConditions]="searchConditions"
            (viewAction)="viewTransaction($event)" [columns]="columns"
            apiServiceURL="/electric-service/batch"></app-lpb-datatable>
    </div>
</div>