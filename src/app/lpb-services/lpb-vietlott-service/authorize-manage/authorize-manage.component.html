<div class="content">
  <br/>
  <div class="pl-2">
    <form [formGroup]="forms">
      <div class="d-flex">
        <div class="col-4 px-4 mt-1">
          <label class="text-high-light fw-bolder required">Mã đại lý</label>
          <div class="position-relative input-group">
            <app-lpb-select2
              [items]="listType"
              labelName="label"
              bindValue="value"
              formControlName="agentType"
              [config]="{'clearable':false}"
              class="w-25">
            </app-lpb-select2>
            <div class="input-group-append w-75">
              <input
                type="text"
                formControlName="agentCode"
                placeholder="Nhập mã đại lý"
                class="form-control"
                (change)="agentCodeChange()"
                [textPattern]="{allowRegex: '[0-9]'}"
                trimInput
              />
            </div>
          </div>
          <app-validate
            [control]="forms.get('agentCode')"
            error="required"
            message="Chưa nhập mã đại lý"
          ></app-validate>
        </div>
        <div class="mt-4">
          <button
            mat-raised-button
            class="text-while button-send"
            (click)="search()"
          >
            <i class="fa fa-search mr-2" style="color: #fff"></i>
            Truy vấn
          </button>
        </div>
      </div>
      <div *ngIf="agent" class="border border-1 p-4 border-radius-panel">
        <div class="" style="color: #0C258A">
          <i class="fa fa-credit-card-alt text-high-light mr-2"></i>
          <span>THÔNG TIN ĐIỂM GIAO DỊCH TẠI VIETLOTT</span>
        </div>
        <div class="mt-4 d-flex">
          <div class="col-4">
            <label>Tên tài khoản: </label>
          </div>
          <div>
            <label> {{agent?.accName}}</label>
          </div>
        </div>
        <div class="mt-3 d-flex">
          <div class="col-4">
            <label>Địa chỉ: </label>
          </div>
          <div>
            <label> {{agent?.accAddress}}</label>
          </div>
        </div>
        <div class="mt-3 d-flex">
          <div class="col-4">
            <label>Số điện thoại: </label>
          </div>
          <div>
            <label> {{agent?.accPhoneNumber}}</label>
          </div>
        </div>
      </div>
      <div *ngIf="agent" class="border border-1 p-4 border-radius-panel">
        <div class="" style="color: #0C258A">
          <i class="fa fa-credit-card-alt text-high-light mr-2"></i>
          <span>THÔNG TIN ĐVKD QUẢN LÝ</span>
        </div>
        <div class="d-flex">
          <div class="col-4 px-4 pt-3">
            <label class="text-high-light fw-bolder required">Đơn vị kinh doanh:</label>
            <app-lpb-select2
              formControlName="listDVKD"
              placeholder="Chọn Đơn vị kinh doanh"
              labelName="name"
              [apiUrl]="urlBranch"
              [items]="listDVKD"
              (change)="listDVKDChange()"
              >
            </app-lpb-select2>
            <app-validate
              [control]="forms.controls['listDVKD']"
              error="required"
              message="Chưa nhập chọn ĐVKD"
            ></app-validate>
          </div>
          <div class="col-4 px-4 pt-3">
            <label>Mã đơn vị kinh doanh</label>
            <p>{{this.branchCode}}</p>
          </div>
        </div>
      </div>
      <div *ngIf="isManage" class="d-flex justify-content-center mt-2">
        <button
          mat-raised-button
          (click)="approveAuthorize()"
          class="bg-btn__blue text-while button-send"
          [disabled]="btApprove"
        >
          Gán quyền quản lý
        </button>
        <button
          mat-raised-button
          (click)="deleteAuthorize()"
          class=" bg-btn__blue text-while button-send ml-5"
          [disabled]="!btApprove"
        >
          Xóa quyền quản lý
        </button>
      </div>
    </form>
  </div>
</div>
<app-lpb-footer class="z-index-footer position-fixed bottom-0 w-100"></app-lpb-footer>

