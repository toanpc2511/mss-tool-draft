<div class="lpb-main">
  <div class="content-title w-100 text-uppercase d-flex justify-content-between">
    <div class="d-flex align-items-center">
      <i class="fa fa-search mr-2"></i>
      <span>Tra cứu thông tin thanh toán thuế</span>
    </div>
  </div>

  <div class="search px-4 mt-4">
    <form [formGroup]="searchForm" (ngSubmit)="search()">
      <div class="row">
        <div class="col-12 col-md-6 col-lg-4 pb-3 px-5">
          <label class="required">Loại thuế</label>
          <app-lpb-select2
            [items]="taxTypes"
            labelName="name" bindValue="code"
            placeholder="Chọn loại thuế"
            formControlName="taxType">
          </app-lpb-select2>
        </div>
        <div class="col-12 col-md-6 col-lg-4 pb-3 px-5">
          <label>Mã hồ sơ/ Số quyết định/ Số giao dịch</label>
          <input type="text" formControlName="code" placeholder="Nhập số quyết định" class="form-control" trimInput/>
        </div>
        <div class="col-12 col-md-6 col-lg-4 pb-3 px-5">
          <label>Mã số thuế</label>
          <input type="text" formControlName="taxCode" placeholder="Nhập mã số thuế" class="form-control" trimInput/>
        </div>
        <div class="col-6 col-md-3 col-lg-4 pb-3 px-5 pr-md-1 pr-lg-5">
          <label>Từ ngày:</label>
          <app-lpb-datepicker-new formControlName="fromDate" [maxDate]="today"
                                  [className]="formHelpers.isValidClass(searchControls.fromDate)"></app-lpb-datepicker-new>
          <app-validate [control]="searchControls.fromDate" error="required"
                        message="Từ ngày không được bỏ trống"></app-validate>
          <div *ngIf="searchForm.errors?.dateRange">
            <small class="text-danger mt-1 d-block font-weight-bold">
              Từ ngày phải nhỏ hơn hoặc bằng Đến ngày
            </small>
          </div>
        </div>
        <div class="col-6 col-md-3 col-lg-4 pb-3 px-5 pl-md-1 pl-lg-5">
          <label>Đến ngày:</label>
          <app-lpb-datepicker-new formControlName="toDate" [maxDate]="today"
                                  [className]="formHelpers.isValidClass(searchControls.toDate)"></app-lpb-datepicker-new>
          <app-validate [control]="searchControls.toDate" error="required"
                        message="Đến ngày không được bỏ trống"></app-validate>
          <div *ngIf="searchForm.errors?.dateRange">
            <small class="text-danger mt-1 d-block font-weight-bold">
              Đến ngày phải lớn hơn hoặc bằng Từ ngày
            </small>
          </div>
        </div>
        <div class="col-12 col-md-6 col-lg-4 pb-3 px-5">
          <label>Trạng thái</label>
          <app-lpb-select2 labelName="label" bindValue="value" [items]="statusTaxs" [config]="{'clearable':false}"
                           formControlName="status">
          </app-lpb-select2>
        </div>
      </div>
      <div class="w-full d-flex justify-content-center gap-2">
        <button mat-raised-button type="submit" class="btn_blue">
          <i class="fa fa-search mr-2" style="color: #b1afaf"></i>
          Tìm kiếm
        </button>
        <button mat-raised-button (click)="resetForm()" class=" ml-2" style="color: #0c258a">
          <i class="fa fa-rotate-left mr-2" style="color: #0c258a"></i>
          Nhập lại
        </button>
      </div>
    </form>
  </div>
  <div class="mt-4">
    <app-lpb-datatable
      [config]="config"
      [apiServiceURL]="apiServiceURL"
      (viewAction)='viewDetail($event)'
      (deleteAction)="deleteTransaction($event)"
      (reverseAction)="reverseTransaction($event)"
      [columns]="columns"
      [searchConditions]="searchConditions"
      [isDisabledDelete]="isDisabledDelete"
      [isDisabledReverse]="isDisabledReverse"
      tableName="Kết quả giao dịch"></app-lpb-datatable>
  </div>
</div>

<app-lpb-footer class=""></app-lpb-footer>
