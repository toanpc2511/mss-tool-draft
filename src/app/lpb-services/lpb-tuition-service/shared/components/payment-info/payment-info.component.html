<form [formGroup]="formPayment">
    <ng-container *ngIf="!init || type===''">
        <div class="border border-1 p-4 border-radius-panel">
            <span class="text-high-light fw-bolder">Tài khoản ghi có</span>
            <div class="mt-2 d-flex">
                <div class="col-4">
                    <label> Số tài khoản</label>
                    <div>
                        <span class="fw-bolder text-high-light"> {{formPayment.value?.accountNumberCredit}}
                        </span>
                    </div>
                </div>      
                
                <div class="col-4">
                    <label>Tên tài khoản</label>
                    <div>
                        <span class="fw-bolder text-high-light"> {{formPayment.value?.accountNameCredit}}
                        </span>
                    </div>
                </div>

                
            </div>

            <div class="mt-3 d-flex">
                
                <div class="col-4">
                    <label>Số tiền nộp</label>
                    <div class="input-group">
                        <input type="text" readonly [value]="formPayment.value?.paymentAmount | number: '1.0' : 'en-US'"
                            class="form-control border-right-0">
                        <div class="input-group-append">
                            <span class="fw-bolder text-high-light input-group-text"> VNĐ</span>
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <label> Hình thức nộp</label>
                    <div>
                        <ng-select [searchable]="false"  [clearable]="false" [items]="paymentMethods" bindLabel="label"
                            bindValue="value" formControlName="paymentMethod">
                        </ng-select>
                    </div>
                </div>
              
            </div>

            <div class="mt-4 d-flex">                
                <div class="col-4">
                    <label>Phí dịch vụ thu hộ</label>
                    <div class="input-group">
                        <input type="text" readonly  [value]="formPayment.value?.feeAmount | number: '1.0' : 'en-US'"
                            class="form-control border-right-0">
                        <div class="input-group-append">
                            <span class="fw-bolder text-high-light input-group-text"> VNĐ</span>
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <label>VAT Phí dịch vụ thu hộ(10%)</label>
                    <div class="input-group">
                        <input type="text" readonly  [value]="formPayment.value?.feeAmountvat | number: '1.0' : 'en-US'"
                            class="form-control border-right-0">
                        <div class="input-group-append">
                            <span class="fw-bolder text-high-light input-group-text"> VNĐ</span>
                        </div>
                    </div>
                </div>
              
            </div>

            <div class="mt-4 d-flex">                
                <div class="col-4">
                    <label>Phí dịch vụ nộp/CT</label>
                    <div class="input-group">
                        <input type="text" readonly  [value]="formPayment.value?.feeAmount_ct | number: '1.0' : 'en-US'"
                            class="form-control border-right-0">
                        <div class="input-group-append">
                            <span class="fw-bolder text-high-light input-group-text"> VNĐ</span>
                        </div>
                    </div>
                </div>

                <div class="col-4">
                    <label>VAT Phí dịch vụ nộp/CT(10%)</label>
                    <div class="input-group">
                        <input type="text" readonly  [value]="formPayment.value?.feeAmountvat_ct | number: '1.0' : 'en-US'"
                            class="form-control border-right-0">
                        <div class="input-group-append">
                            <span class="fw-bolder text-high-light input-group-text"> VNĐ</span>
                        </div>
                    </div>
                </div>
              
            </div>
        </div>
        <!-- *ngIf="formPayment.value.paymentMethod === 'CK'" -->
        <div *ngIf="formPayment.value.paymentMethod === 'CP03' || formPayment.value.paymentMethod === 'CP04'" class="border border-1 p-4 border-radius-panel mt-4">           
            <span class="text-high-light fw-bolder">Tài khoản ghi nợ</span>
            <div class="mt-2 d-flex">
                <div class="col-4">
                    <ng-select [searchable]="false" [clearable]="false" [items]="identityDocTypes" bindLabel="label"
                        bindValue="value" formControlName="identityDocType">
                    </ng-select>
                </div>
                <div class="col-4">
                    <input type="text" [readOnly]="transferFirst && type==='edit'" formControlName="numberDocType"
                        placeholder="Nhập giá trị tìm kiếm" (change)="numberDocTypeChange()" class="form-control">
                    <div *ngIf="invalid(formPayment.controls.numberDocType)" class="text-danger">Chưa nhập giá
                        trị tìm kiếm</div>
                </div>
                <div class="col-4">
                    <button *ngIf="!transferFirst && type !=='view'" class="btn lpb-btn-primary"
                        (click)="searchAccountCustomers()" [disabled]="isLoading"><i class="fa fa-search"></i>
                        Tìm kiếm</button>
                </div>
            </div>
            <div class="mt-3 d-flex">
                <div class="col-4">
                    <label>Số TKTT</label>
                    <div>
                        <app-lpb-select2 [items]="customerAccounts" labelName="accountNumber" bindValue="accountNumber"
                            formControlName="accountDebit" placeholder="Chọn số TKTT">
                            <ng-template let-item="item" let-index="index">
                                <b>{{item.accountNumber}}</b>
                                <div class="text-high-light">{{item.acyCurr_Balance | number: '1.0' : 'en-US'}} VNĐ
                                </div>
                            </ng-template>
                        </app-lpb-select2>
                    </div>
                </div>
                <div class="col-4">
                    <label>Chủ tài khoản</label>
                    <div>
                        <span class="fw-bolder text-uppercase text-high-light">
                            {{formPayment.value?.accountNameDebit}}
                        </span>
                    </div>
                </div>
                <div class="col-4">
                    <label>Số dư tài khoản trước giao dịch</label>
                    <div>
                        <span class="fw-bolder text-uppercase text-high-light">
                            {{formPayment.value?.accountBalance | number: '1.0' : 'en-US'}} VNĐ
                        </span>
                    </div>
                </div>
            </div>
            <div class="mt-4 d-flex">
                <div class="col-4">
                    <label>Nội dung thanh toán</label>
                    <div class="input-group">
                        <span class="text-high-light fw-bolder"> {{formPayment.value?.paymentContent}} </span> 
                    </div>
                </div>
                <div class="col-4">
                    
                </div>
                <div class="col-4">                    
                </div>
            </div>
        </div>

        <div *ngIf="formPayment.value.paymentMethod === 'NP03' || formPayment.value.paymentMethod === 'NP04'"  class="border border-1 p-4 border-radius-panel mt-4">           
            <span class="text-high-light fw-bolder">Thông Tin Người Nộp</span>
            <div class="mt-4 d-flex">                
                <div class="col-4">
                    <label>Tên người nộp</label>
                    <input type="text"  formControlName="customerName"
                    class="form-control">      
                </div>

                <div class="col-4">
                    <label>Số GTTT</label>
                    <div class="input-group">
                        <input type="text"  formControlName="gtttnumber"
                            class="form-control">           
                    </div>
                </div>
              
            </div>
            <div class="mt-5 d-flex">                
                <div class="col-4">
                    <label>Ngày cấp</label>
                    <app-lpb-datepicker-new formControlName="dateGttt" [minDate]="minDate" [className]="FormHelpers.isValidClass(formPayment.controls.dateGttt)"></app-lpb-datepicker-new>
                    <app-validate [control]="formPayment.controls.dateGttt" error="required"
                                  message="Ngày cấp không được bỏ trống"></app-validate>
                </div>

                <div class="col-4">
                    <label>Nội dung thanh toán</label>
                    <div class="input-group">
                        <span class="text-high-light fw-bolder"> {{formPayment.value?.paymentContent}} </span> 
                    </div>
                </div>
              
            </div>      
            
        </div>
    </ng-container>

</form>