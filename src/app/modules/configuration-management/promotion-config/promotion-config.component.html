<div class="card card-custom gutter-b mt-1">
	<div class="card-header">
		<div class="card-title">
			<h3 class="card-label">Danh sách cấu hình khuyến mãi</h3>
		</div>

		<div class="card-toolbar row">
			<div class="search-form">
				<em class="flaticon-search"></em>
				<input
					type="text"
					name="searchText"
					placeholder="Search..."
					class="form-control"
					[formControl]="searchFormControl"
				/>
			</div>
			<button type="button" class="btn btn-primary" (click)="createModal()">Thêm mới</button>
		</div>
	</div>
	<div class="card-body">
		<div class="table-responsive angular-bootstrap-table">
			<table class="table table-head-custom table-vertical-center overflow-hidden" aria-label="">
				<thead>
					<th class="name" scope="">
						Loại nhiên liệu
						<app-sort-icon
							column="nameProduct"
							[activeColumn]="sorting.column"
							[activeDirection]="sorting.direction"
							(sort)="sort($event)"
						></app-sort-icon>
					</th>
					<th class="quantity text-right" scope="">
						Số lượng cần đạt/ giao dịch (Lít)
						<app-sort-icon
							column="amountLiterOrder"
							[activeColumn]="sorting.column"
							[activeDirection]="sorting.direction"
							(sort)="sort($event)"
						></app-sort-icon>
					</th>
					<th class="promotion" scope="">Khuyến mại được nhận</th>
					<th class="text-center" scope="">Tác động</th>
				</thead>

				<tbody>
					<tr *ngFor="let item of dataSource">
						<td class="name">
							<p
								class="cursor-pointer text-ellipsis"
								placement="top"
								[ngbTooltip]="item.nameProduct"
							>
								{{ item.nameProduct }}
							</p>
						</td>

						<td class="quantity text-right">
							<p
								class="cursor-pointer text-ellipsis"
								placement="top"
								[ngbTooltip]="item.amountLiterOrder?.toLocaleString('en-US')"
							>
								{{ item.amountLiterOrder?.toLocaleString('en-US') }}
							</p>
						</td>

						<td class="promotion">
							<p
								class="cursor-pointer text-ellipsis"
								placement="top"
								[ngbTooltip]="getListPromotions(item)"
							>
								{{ getListPromotions(item) }}
							</p>
						</td>

						<td class="text-center action">
							<a
								(click)="createModal($event, item)"
								class="btn btn-icon btn-light btn-hover-primary btn-sm mx-3"
							>
								<span
									[inlineSVG]="'./assets/media/svg/icons/Communication/Write.svg'"
									cacheSVG="true"
									class="svg-icon svg-icon-md svg-icon-primary"
									[ngbTooltip]="'Sửa'"
								>
								</span>
							</a>
							<a
								(click)="deleteConfig($event, item)"
								class="btn btn-icon btn-light btn-hover-danger btn-sm"
							>
								<span
									[inlineSVG]="'./assets/media/svg/icons/General/Trash.svg'"
									cacheSVG="true"
									class="svg-icon svg-icon-md svg-icon-danger"
									[ngbTooltip]="'Xóa'"
								>
								</span>
							</a>
						</td>
					</tr>
				</tbody>

				<tfoot *ngIf="dataSource?.length === 0">
					<tr>
						<td colspan="4" class="text-center" style="color: #ccc">Không có bản ghi nào</td>
					</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>
