<div class="card card-custom">
  <div class="card-header" *ngIf="eAuthorize.VIEW_GAS_FIELD_SCREEN|canUseFeature">
    <div class="card-title">
      <h3 class="card-label">Danh sách bồn</h3>
    </div>

    <div class="card-toolbar row">
      <div class="search-form">
        <em class="flaticon-search"></em>
        <input
          type="text"
          name="searchText"
          placeholder="Search..."
          class="form-control"
          [formControl]="searchFormControl"
        />
      </div>
      <button type="button" class="btn btn-primary" (click)="openCreateModal()" *ngIf="eAuthorize.CREATE_GAS_FIELD_BUTTON |canUseFeature">Thêm mới</button>
    </div>
  </div>
  <div class="card-body" *ngIf="eAuthorize.VIEW_GAS_FIELD_SCREEN|canUseFeature">
    <div class="table-responsive angular-bootstrap-table">
      <table class="table table-head-custom table-vertical-center overflow-hidden" aria-label="">
        <thead>
          <th scope="">
            Mã bồn
            <app-sort-icon
              column="code"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Tên bồn
            <app-sort-icon
              column="name"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Chiều cao
            <app-sort-icon
              column="height"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Chiều dài
            <app-sort-icon
              column="width"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Dung tích
            <app-sort-icon
              column="width"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Loại nhiên liệu
            <app-sort-icon
              column="fuelType"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Mô tả
            <app-sort-icon
              column="description"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>
          <th scope="">
            Trạng thái
            <app-sort-icon
              column="status"
              [activeColumn]="sorting.column"
              [activeDirection]="sorting.direction"
              (sort)="sort($event)"
            ></app-sort-icon>
          </th>

          <th class="text-center" scope="">Tác động</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of dataSource">
            <td class="code">
              <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.code">
                {{ item.code }}
              </p>
            </td>
            <td class="name">
              <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.name">
                {{ item.name }}
              </p>
            </td>
            <td>{{ item.height }}</td>
            <td>{{ item.length }}</td>
            <td>{{ item.capacity }}</td>
            <td>{{ item.productName }}</td>
            <td class="description">
              <p
                class="cursor-pointer text-ellipsis"
                placement="top"
                [ngbTooltip]="item.description"
              >
                {{ item.description }}
              </p>
            </td>
            <td class="status">
              <span
                class="label label-lg label-inline"
                [class.label-light-success]="item.status === listStatus.ACTIVE"
                [class.label-light-danger]="item.status !== listStatus.ACTIVE"
              >
                <ng-container *ngIf="item.status === listStatus.ACTIVE">Hoạt động</ng-container>
                <ng-container *ngIf="item.status !== listStatus.ACTIVE">
                  Không hoạt động
                </ng-container>
              </span>
            </td>

            <td class="text-center action">
              <a
                [ngbTooltip]="'Sửa'"
                (click)="update(item)"
                class="btn btn-icon btn-light btn-hover-primary btn-sm mx-3"
                *ngIf="eAuthorize.UPDATE_PUMP_HOLE_BUTTON |canUseFeature"
              >
                <span
                  [inlineSVG]="'./assets/media/svg/icons/Communication/Write.svg'"
                  cacheSVG="true"
                  class="svg-icon svg-icon-md svg-icon-primary"
                >
                </span>
              </a>
              <a
                (click)="deleteGasBin(item)"
                class="btn btn-icon btn-light btn-hover-danger btn-sm"
                [ngbTooltip]="'Xóa'"
                *ngIf="eAuthorize.DELETE_PUMP_HOLE_BUTTON |canUseFeature"
              >
                <span
                  [inlineSVG]="'./assets/media/svg/icons/General/Trash.svg'"
                  cacheSVG="true"
                  class="svg-icon svg-icon-md svg-icon-danger"
                >
                </span>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="w-100 d-flex justify-content-center">
    <button class="btn btn-outline-secondary font-weight-bold m-2" (click)="back()">
      Quay lại
    </button>
    <button class="btn btn-primary font-weight-bold m-2" (click)="onSubmit()">Tiếp tục</button>
  </div>
</div>
