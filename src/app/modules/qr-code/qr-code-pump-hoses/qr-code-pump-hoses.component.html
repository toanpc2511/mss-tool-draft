<div class="card card-custom gutter-b mt-1">
  <div class="card-header">
    <div class="card-title">
      <h3 class="card-label">Danh sách QR code vòi bơm</h3>
    </div>

    <div class="card-toolbar row">
      <div class="search-form">
        <em class="flaticon-search"></em>
        <input
          type="text"
          name="searchText"
          placeholder="Search..."
          class="form-control"
          [formControl]='searchForm'
        />
      </div>
    </div>
  </div>

  <div class="card-body">
    <div class="table-responsive angular-bootstrap-table">
      <table class="table table-head-custom table-vertical-center overflow-hidden">
        <thead>
        <th class="id" scope="">
          ID
          <app-sort-icon
            column="id"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="station" scope="">
          Trạm
          <app-sort-icon
            column="station"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="pump-pole" scope="">
          Cột
          <app-sort-icon
            column="pole"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="pump-house" scope="">
          Vòi
          <app-sort-icon
            column="hole"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="fuel" scope="">
          Nhiên liệu
          <app-sort-icon
            column="nameFuel"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="number text-right" scope="">
          Giá bán
          <app-sort-icon
            column="price"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="qr-code text-center" scope="">QR Code</th>
        <th class="status" scope="">
          Trạng thái
          <app-sort-icon
            column="status"
            [activeColumn]="sorting.column"
            [activeDirection]="sorting.direction"
            (sort)="sort($event)"
          ></app-sort-icon>
        </th>
        <th class="action text-center" scope="">Tác động</th>
        </thead>

        <tbody>
        <tr *ngFor='let item of dataSource'>
          <td class="id">
            <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.id">
              {{ item.id }}
            </p>
          </td>
          <td class="station">
            <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.station">
              {{ item.station }}
            </p>
          </td>
          <td class="pump-pole">
            <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.pole">
              {{ item.pole }}
            </p>
          </td>
          <td class="pump-house">
            <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.hole">
              {{ item.hole }}
            </p>
          </td>
          <td class="fuel">
            <p class="cursor-pointer text-ellipsis" placement="top" [ngbTooltip]="item.nameFuel">
              {{ item.nameFuel }}
            </p>
          </td>
          <td class="price text-right">
            <p
              class="cursor-pointer text-ellipsis"
              placement="top"
              [ngbTooltip]="item.price.toLocaleString('en-US')"
            >
              {{ item.price.toLocaleString('en-US') }}
            </p>
          </td>
          <td class="qr-code">
            <p class="cursor-pointer text-center" placement="top" ngbTooltip="Mã qr code">
              <em class="fas fa-qrcode" (click)='viewQrCode(content, item)'></em>
            </p>
          </td>
          <td class="status">
							<span
                class="label label-lg label-inline"
                [class.label-light-success]="item.status === listStatus.ACTIVE"
                [class.label-light-danger]="item.status !== listStatus.ACTIVE"
              >
								<ng-container *ngIf="item.status === listStatus.ACTIVE">Hoạt động</ng-container>
								<ng-container *ngIf="item.status === listStatus.INACTIVE">
									Không hoạt động
								</ng-container>
							</span>
          </td>
          <td class="action text-center">
            <a
              class="btn btn-icon btn-light btn-hover-primary btn-sm mx-3"
            >
								<span
                  [inlineSVG]="'./assets/media/svg/icons/Files/Download.svg'"
                  cacheSVG="true"
                  class="svg-icon svg-icon-md svg-icon-primary"
                  [ngbTooltip]="'Tải QR Code'"
                >
								</span>
            </a>
          </td>

          <ng-template #content let-c='close' let-d='dismiss'>
            <div class='modal-header'>
              <h4 class='modal-title'>QR Code: {{item.nameFuel}}</h4>
              <div class="close-icon" (click)="d('Cross click')"></div>
            </div>
            <div class='modal-body'>
              <div class='row'>
                <div class='col-12 text-center'>
                  <img src='{{image}}' class='img-fluid' alt=''>
                </div>
              </div>
            </div>
          </ng-template>
        </tr>
        </tbody>

        <tfoot *ngIf="dataSource?.length === 0">
        <tr>
          <td colspan="10" class="text-center" style="color: #ccc">Không có bản ghi nào</td>
        </tr>
        </tfoot>
      </table>
    </div>

    <!-- <app-paginator [paginator]="paginatorState" (paginate)="pagingChange($event)"></app-paginator> -->
  </div>
</div>
