<div class="container-fuild">
    <app-progress-spinner [color]="color" [mode]="mode" [value]="value" *ngIf="displayProgressSpinnerInBlock" class="sq-global-backdrop center-aligned">
    </app-progress-spinner>
    <mat-tab-group animationDuration="0ms" (selectedTabChange)="onTabChanged($event);" [selectedIndex]="selectedIndex">
        <mat-tab label="USERS" *ngIf="authenticationService.isPermissionWithCode(PermissionConst.SYSTEM_MANAGEMENT.USER)">
            <div class="row cust-row view-inform" >
                <div class="col-12 title-note" style="padding: 0px;border-bottom: 1px solid #c8ced3;">
                    <label style="font-size: 17px;margin: 0px;
                font-weight: 500;
                display: block;">TÌM KIẾM THÔNG TIN</label>
                </div>
                <div class="col-12 information-section" style="display: flex;">
                    <div class="form-row">
                        <div class="form-group col-md-6 row">
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">Mã
                                nhân viên</label>
                          <div class="col-sm-8 ">
                            <input maxlength="50" style="float: left;" [(ngModel)]="objSearchUser.employeeId" type="text" class="form-control" />
                          </div>

                        </div>
                        <div class="form-group col-md-6 row">
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">Họ
                                và tên</label>
                          <div class="col-sm-8 ">
                            <input maxlength="50" style="float: left;" [(ngModel)]="objSearchUser.fullName" type="text" class="form-control" />
                          </div>

                        </div>
                        <div class="form-group col-md-6 row" style="padding-top: 5px;">
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">UserAD</label>
                          <div class="col-8">
                            <input maxlength="50" style="float: left; margin-right: 12px;" [(ngModel)]="objSearchUser.username" type="text" class="form-control col-md-4" />
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">UserCore</label>
                            <input maxlength="50" style="float: left;" [(ngModel)]="objSearchUser.userCore" type="text" class="form-control col-5" />
                          </div>

                        </div>
                        <div class="form-group col-md-6 row" style="padding-top: 5px;">
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">Số
                                điện thoại</label>
                          <div class="col-sm-8 ">
                            <input numbersOnly maxlength="11" style="float: left;" [(ngModel)]="objSearchUser.phone" type="text" class="form-control " />
                          </div>

                        </div>
                        <div class="form-group col-md-6 row" style="padding-top: 5px;">
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">Chức
                                danh</label>
                          <div class="col-sm-8 ">
                            <ng-select  [multiple]="false" bindLabel="name" bindValue="id" [formControl]="titleId"
                                        placeholder="-- Chọn chức danh --">
                              <ng-option *ngFor="let item of lstAllTitle" [value]="item.id">{{item.code + ' - ' + item.name}}</ng-option>
                            </ng-select>
                          </div>

<!--                            <select style="float: left;" type="text" class="form-control col-8" (change)="selectTitle($event.target.value)">-->
<!--                                <option value="0">&#45;&#45; Chọn chức danh &#45;&#45;</option>-->
<!--                                <option [value]="item.id" *ngFor="let item of lstAllTitle">{{item.name}}</option>-->
<!--                            </select>-->
                        </div>
                        <div class="form-group col-md-6 row" style="padding-top: 5px;">
                            <label class="col-3 col-form-label" style="text-align: right;float: left;">Chi
                                nhánh</label>
<!--                            <select style="float: left;" type="text" class="form-control col-8" (change)="selectBranch($event.target.value)">-->
<!--                                <option value="0">&#45;&#45; Chọn chi nhánh &#45;&#45;</option>-->
<!--                                <option  *ngFor="let item of lstBranch" [value]="item.id" >{{item.name}}</option>-->
<!--                            </select>-->
                          <div class="col-sm-8 ">
                            <ng-select  [multiple]="false" bindLabel="name" bindValue="id" [formControl]="branchId"
                                        placeholder="-- Chọn chi nhánh --">
                              <ng-option *ngFor="let item of lstBranch" [value]="item.id">{{item.code + ' - ' + item.name}}</ng-option>
                            </ng-select>
                          </div>


                        </div>
                    </div>
                </div>
                <div class="col-12" style="clear: both;text-align: center;padding-bottom: 10px;">
                    <button type="button" style="cursor: pointer;" class="btn btn-secondary" (keyup.enter)="onEnter()" (click)="searchUser()">
                        <i class="fa fa-search" aria-hidden="true" style="color:#FFFFFF"></i>
                        Tìm kiếm</button>
                </div>
            </div>
            <div class="row" style="margin-bottom: 20px;margin-top: 5px;border: 1px solid #c8ced3;">
                <div class="col-12 " style="padding: 0px; clear: both;">
                    <div class="row" style="margin: 0px;background: #fff;">
                        <div class="col" style="background: white;margin-right: 0px;display: block;border-bottom: 1px solid #c8ced3;">
                            <div class="title-note" style="border-bottom: 1px solid #c8ced3;display: contents;">
                                <label style="font-size: 17px;
                            font-weight: 500;margin: 0px;padding: 0.5em;" class="view-inform" permission-data='SYS_MANAGEMENT_USER_VIEW'>DANH SÁCH NGƯỜI DÙNG</label>
<!--                                <span class="material-icons spanCursor view-inform" (click)="addUser()" style="color: blue;float: right;padding: 0.15em;" permission-data='SYS_MANAGEMENT_USER_ADD'>add</span>-->
                            </div>
                        </div>
                        <!-- danh sách -->
                        <div class="  mat-elevation-z8 view-inform" permission-data='SYS_MANAGEMENT_USER_VIEW'>
                            <table class="table table-responsive table-fixed">
                                <thead>
                                    <tr class="titleTD">
                                        <th>Mã nhân viên</th>
                                        <th>Username</th>
                                        <th>UserCore</th>
                                        <th>Họ và tên</th>
                                        <th>Chức danh</th>
                                        <th>Chi nhánh</th>
                                        <th>SĐT</th>
                                        <th>Ngày hiêu lực</th>
                                        <th>Ngày hết hạn</th>
                                        <th>Trạng thái</th>
                                        <th>Hành động</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="9" style="text-align: center;height: 35px;" *ngIf="lstUsers ==null">
                                            <label>Không có bản ghi</label>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let item of lstUsers;let i = index" class="hoverTr" style="cursor: pointer;">
                                        <td (click)="detailUserById(item)" permission-data='SYS_MANAGEMENT_USER_DETAIL' class="file-name col-xs-6 view-deatil" style="color: blue;">
                                            {{item.employeeId}}
                                        </td>
                                        <td class="file-name col-xs-6">{{item.userName}}
                                        </td>
                                        <td class="file-name col-xs-6">{{item.userCore}}
                                        </td>
                                        <td class="file-name col-xs-6">{{item.fullName}}
                                        </td>
                                        <td class="file-name col-xs-6">{{item.titles}}</td>
                                        <td class="file-name col-xs-6" title="{{item.branches}}">{{item.branches}}
                                        </td>
                                        <td style="text-align: center;" class="file-name col-xs-6">{{item.phone}}
                                        </td>
                                        <td class="file-name col-xs-6" style="text-align: center;">{{item.validFrom | date : 'dd/MM/yyyy'}}
                                        </td>
                                        <td class="file-name col-xs-6" style="text-align: center;">{{item.validTo | date : 'dd/MM/yyyy'}}
                                        </td>
                                        <td class="file-name col-xs-6" style="text-align: center;">
                                            {{getStatusCodeUser(item.statusCode) }}
                                        </td>
                                        <td class="file-name col-xs-6">
                                            <div class="example-button-container" style="display: block;text-align: center;font-size: 20px;">
                                                <i class="fa fa-pencil-square-o " style="margin-right: 5px;" *ngIf="item.statusCode == 'A' && iconEditUer" (click)="detailUser(item)" aria-hidden="true"></i>
<!--                                                <i class="fa fa-lock " (click)="unlockUser(item)" style="margin-right: 5px;" *ngIf="item.statusCode == 'L'  && iconLockUser" aria-hidden="true" permission-data='SYS_MANAGEMENT_USER_LOCK'></i>-->

<!--                                                <i class="fa fa-unlock-alt " (click)="lockUser(item)" style="margin-right: 5px;" *ngIf="item.statusCode == 'A' && iconUnlockUser" aria-hidden="true" permission-data='SYS_MANAGEMENT_USER_UNLOCK'></i>-->

<!--                                                <i class="fa fa-trash-o " (click)="deleteUser(item)" *ngIf="(item.statusCode == 'A' || item.statusCode == 'L') && iconDeleteUser" aria-hidden="true" permission-data='SYS_MANAGEMENT_USER_DELETE'></i>-->
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <nav aria-label="Page navigation for action list" style="padding-bottom: 10px;margin-left: 10px;margin-right: 5px;padding-top: 10px;" *ngIf="lstUsers !==null && userPager.pager && userPager.pager.pages && userPager.pager.pages.length">
                                <div style="float: left; padding-top: 10px;">
                                    <span>{{userPager.pager.getStatus()}}</span>
                                </div>
                                <ul class="pagination justify-content-end">
                                    <div class="amout-show">
                                        <span>Số lượng bản ghi/trang</span> &nbsp;
                                        <select class="form-control numberPage" (change)="changePageSize($event.target.value,0)">
                                            <option selected value="10">10</option>
                                            <option value="20">20</option>
                                            <option value="50">50</option>
                                        </select> &nbsp;&nbsp;
                                    </div>
                                    <li class="page-item" (click)="setActionPage(userPager.pager.currentPage - 1,0)">
                                        <a class="page-link" href="javascript: void(0)" tabindex="-1">&lt;</a>
                                    </li>
                                    <li class="page-item" *ngFor="let page of userPager.pager.pages" [ngClass]="{active:userPager.pager.currentPage === page}" (click)="setActionPage(page,0)">
                                        <a class="page-link" href="javascript: void(0)">{{page}}</a>
                                    </li>
                                    <li class="page-item" (click)="setActionPage(userPager.pager.currentPage + 1,0)">

                                        <a class="page-link" href="javascript: void(0)">&gt;</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </mat-tab>
        <mat-tab label="Chức danh" *ngIf="authenticationService.isPermissionWithCode(PermissionConst.SYSTEM_MANAGEMENT.TITLE)">
            <!-- <div class="col-12" style="padding: 0px; clear: both;border: 1px solid #c8ced3; margin-bottom: 20px;"> -->
            <div class="row" style="margin: 0px;background: #fff;">
                <div class="col" style="background: white;margin-right: 0px;display: block;border-bottom: 1px solid #c8ced3;">
                    <div class="title-note" style="border-bottom: 1px solid #c8ced3;display: contents;">
                        <label style="font-size: 17px;
                            font-weight: 500; margin: 0px;padding: 0.5em" class="view-inform" permission-data='SYS_MANAGEMENT_TITLE_VIEW'>DANH SÁCH CHỨC DANH</label>
                        <span class="material-icons spanCursor view-inform" permission-data='SYS_MANAGEMENT_TITLE_ADD' (click)="addTitle()" style="color: blue;float: right;padding: 0.15em">add</span>
                        <span class="material-icons spanCursor view-inform" (click)="addRoleInTitle()" style="color: blue;float: right;padding: 0.15em" permission-data='SYS_MANAGEMENT_TITLE_MAP_ROLE'>group_add</span>
                    </div>
                </div>
                <!-- danh sách -->
                <div class="  mat-elevation-z8 view-inform" permission-data='SYS_MANAGEMENT_TITLE_VIEW' style="clear: both;width: 100%;">
                    <table class="table table-responsive table-fixed">
                        <tr class="titleTD">
                            <th>Mã chức danh</th>
                            <th>Tên chức danh</th>
                            <th>Role</th>
                            <th>Mô tả</th>
                            <th>Trạng thái</th>
                            <th>Hành động</th>
                        </tr>
                        <tr>
                            <td colspan="6" style="text-align: center;height: 35px;" *ngIf="lstTitles == null">
                                <label>Không có bản ghi</label>
                            </td>
                        </tr>
                        <tr *ngFor="let item of lstTitles;let i = index" class="hoverTr">
                            <td class="file-name col-xs-6">{{item.code}}</td>
                            <td class="file-name col-xs-6">{{item.name}}</td>
                            <td class="file-name col-xs-6">{{getLstRoleMapTitle(item.roleIds)}}</td>
                            <td class="file-name col-xs-6">{{item.description}}</td>
                            <td style="text-align: center;">{{getStatusCode(item.statusCode)}}</td>
                            <td>
                                <div style="display: block;text-align: center;font-size: 20px;">
                                    <i *ngIf="(item.statusCode === 'A' || item.statusCode == 'I') && iconEditTitle" style="margin-right: 5px;" class="fa fa-pencil-square-o" (click)="editTitle(item.id)" aria-hidden="true"></i>
                                    <!-- <i class="fa fa-trash-o" (click)="deleteTitle(item)"
                                            *ngIf="(item.statusCode == 'A' || item.statusCode == 'I') && iconDeleteTitle"
                                            aria-hidden="true"></i> -->
                                </div>
                            </td>
                        </tr>
                    </table>
                    <nav aria-label="Page navigation for action list" style="padding-bottom: 10px;margin-left: 10px;margin-right: 5px;padding-top: 10px;" *ngIf=" lstTitles !==null && pager.pager && pager.pager.pages && pager.pager.pages.length">
                        <div style="float: left; padding-top: 10px;">
                            <span>{{pager.pager.getStatus()}}</span>
                        </div>
                        <ul class="pagination justify-content-end">
                            <div class="amout-show">
                                <span>Số lượng bản ghi/trang</span> &nbsp;
                                <select class="form-control numberPage" (change)="changePageSize($event.target.value,1)">
                                        <option selected value="10">10</option>
                                        <option value="20">20</option>
                                        <option value="50">50</option>
                                    </select> &nbsp;&nbsp;
                            </div>
                            <li class="page-item" (click)="setActionPage(pager.pager.currentPage - 1,1)">
                                <a class="page-link" href="javascript: void(0)" tabindex="-1">&lt;</a>
                            </li>
                            <li class="page-item" *ngFor="let page of pager.pager.pages" [ngClass]="{active:pager.pager.currentPage === page}" (click)="setActionPage(page,1)">
                                <a class="page-link" href="javascript: void(0)">{{page}}</a>
                            </li>
                            <li class="page-item" (click)="setActionPage(pager.pager.currentPage + 1,1)">
                                <a class="page-link" href="javascript: void(0)">&gt;</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <!-- </div> -->
        </mat-tab>
        <mat-tab label="ROLE" *ngIf="authenticationService.isPermissionWithCode(PermissionConst.SYSTEM_MANAGEMENT.ROLE)">
            <div class="col-12" style="padding: 0px; clear: both;border: 1px solid #c8ced3; margin-bottom: 20px;">
                <div class="row" style="margin: 0px;background: #fff;">
                    <div class="col" style="background: white;margin-right: 0px;display: block;border-bottom: 1px solid #c8ced3;">
                        <div class="title-note" style="border-bottom: 1px solid #c8ced3;display: contents;">
                            <label style="font-size: 17px;margin: 0px;
                            font-weight: 500;padding: 0.5em" class="view-inform" permission-data='SYS_MANAGEMENT_ROLE_VIEW'>DANH SÁCH ROLE</label>
<!--                            <span class="material-icons spanCursor view-inform" (click)="addRole()" style="color: blue;float: right;padding: 0.15em" permission-data='SYS_MANAGEMENT_ROLE_ADD'>add</span>-->
                        </div>
                    </div>
                    <!-- danh sách -->
                    <div class="  mat-elevation-z8 view-inform" permission-data='SYS_MANAGEMENT_ROLE_VIEW' style="clear: both;width: 100%;">
                        <table class="table table-responsive table-fixed">
                            <tr class="titleTD">
                                <th>Mã role</th>
                                <th>Tên role</th>
                                <th>Mô tả</th>
                                <th>Trạng thái</th>
                                <th>Hành động</th>
                            </tr>
                            <tr>
                                <td colspan="5" style="text-align: center;height: 35px;" *ngIf="lstAllRole == null">
                                    <label>Không có bản ghi</label>
                                </td>
                            </tr>
                            <tr *ngFor="let item of lstAllRole;let i = index" class="hoverTr">
                                <td class="file-name col-xs-6">{{item.code}}</td>
                                <td class="file-name col-xs-6">{{item.name}}</td>
                                <td class="file-name col-xs-6">{{item.description}}
                                </td>
                                <td style="text-align: center;">{{getStatusCode(item.statusCode)}}</td>
                                <td>
                                    <div style="display: block;text-align: center;font-size: 20px;">
                                        <i *ngIf="(item.statusCode === 'A' || item.statusCode == 'I') && iconUpdateRole" style="margin-right: 5px;" class="fa fa-pencil-square-o" (click)="editRole(item)" aria-hidden="true"></i>
                                        <!-- <i class="fa fa-trash-o" (click)="deleteRole(item)"
                                            *ngIf="(item.statusCode == 'A' || item.statusCode == 'I') && iconDeleteRole"
                                            aria-hidden="true"></i> -->
                                    </div>
                                </td>
                            </tr>
                        </table>
                        <nav aria-label="Page navigation for action list" style="padding-bottom: 10px;margin-left: 10px;margin-right: 5px;padding-top: 10px;" *ngIf="pager.pager && pager.pager.pages && pager.pager.pages.length">
                            <div style="float: left; padding-top: 10px;">
                                <span>{{pager.pager.getStatus()}}</span>
                            </div>
                            <ul class="pagination justify-content-end">
                                <div class="amout-show">
                                    <span>Số lượng bản ghi/trang</span> &nbsp;
                                    <select class="form-control numberPage" (change)="changePageSize($event.target.value,2)">
                                        <option selected value="10">10</option>
                                        <option value="20">20</option>
                                        <option value="50">50</option>
                                    </select> &nbsp;&nbsp;
                                </div>
                                <li class="page-item" (click)="setActionPage(pager.pager.currentPage - 1,2)">
                                    <a class="page-link" href="javascript: void(0)" tabindex="-1">&lt;</a>
                                </li>
                                <li class="page-item" *ngFor="let page of pager.pager.pages" [ngClass]="{active:pager.pager.currentPage === page}" (click)="setActionPage(page,2)">
                                    <a class="page-link" href="javascript: void(0)">{{page}}</a>
                                </li>
                                <li class="page-item" (click)="setActionPage(pager.pager.currentPage + 1,2)">
                                    <a class="page-link" href="javascript: void(0)">&gt;</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </mat-tab>
        <mat-tab label="FUNCTION" *ngIf="authenticationService.isPermissionWithCode(PermissionConst.SYSTEM_MANAGEMENT.FUNCTION)">
            <div class="col-12 view-inform" permission-data='SYS_MANAGEMENT_FUNCTION_VIEW' style="padding: 0px; clear: both;border: 1px solid #c8ced3; margin-bottom: 20px;">
                <div class="row" style="margin: 0px;">
                    <div class="col" style="background: white;margin-right: 0px;">
                        <div class="title-note" style="border-bottom: 1px solid #c8ced3;padding: 0.5em;">
                            <label style="font-size: 17px;
                            font-weight: 500;margin: 0px;">DANH SÁCH CHỨC NĂNG</label>
                            <span class="material-icons spanCursor view-inform" (click)="addFunction()" style="color: blue;float: right;padding: 0.15em;" permission-data='SYS_MANAGEMENT_USER_ADD'>add</span>
                        </div>
                        <div class="  mat-elevation-z8">
                            <table class="table">
                                <tr class="titleTD">
                                    <th>Mã chức năng</th>
                                    <th>Tên chức năng</th>
                                    <th>Trạng thái</th>
                                    <th style="width: 10%">Hành động</th>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align: center;height: 35px;" *ngIf="functions == null">
                                        <label>Không có bản ghi</label>
                                    </td>
                                </tr>
                                <tr *ngFor="let fnx of functions" class="hoverTr">
                                    <td>{{fnx.code}}</td>
                                    <td>{{fnx.name}}</td>
                                    <td style="text-align: center;">{{getStatusCode(fnx.statusCode)}}</td>
                                    <td>
                                      <div style="display: block;text-align: center;font-size: 20px;">
                                        <i *ngIf="(fnx.statusCode === 'A' || fnx.statusCode == 'I') && iconEditTitle" style="margin-right: 5px;" class="fa fa-pencil-square-o" (click)="editFunction(fnx)" aria-hidden="true"></i>
                                        <i class="fa fa-trash-o" (click)="deleteFunction(fnx)"
                                           *ngIf="(fnx.statusCode == 'A' || fnx.statusCode == 'I') && iconDeleteTitle"
                                           aria-hidden="true"></i>
                                      </div>

                                    </td>
                                </tr>
                            </table>
                            <nav aria-label="Page navigation for action list" style="padding-bottom: 10px;margin-left: 10px;margin-right: 5px;padding-top: 10px;" *ngIf="pager.pager && pager.pager.pages && pager.pager.pages.length">
                                <div style="float: left; padding-top: 10px;">
                                    <span>{{pager.pager.getStatus()}}</span>
                                </div>
                                <ul class="pagination justify-content-end">
                                    <div class="amout-show">
                                        <span>Số lượng bản ghi/trang</span> &nbsp;
                                        <select class="form-control numberPage" (change)="changePageSize($event.target.value,3)">
                                            <option selected value="10">10</option>
                                            <option value="20">20</option>
                                            <option value="50">50</option>
                                        </select> &nbsp;&nbsp;
                                    </div>
                                    <li class="page-item" (click)="setActionPage(pager.pager.currentPage - 1,3)">
                                        <a class="page-link" href="javascript: void(0)" tabindex="-1">&lt;</a>
                                    </li>
                                    <li class="page-item" *ngFor="let page of pager.pager.pages" [ngClass]="{active:pager.pager.currentPage === page}" (click)="setActionPage(page,3)">
                                        <a class="page-link" href="javascript: void(0)">{{page}}</a>
                                    </li>
                                    <li class="page-item" (click)="setActionPage(pager.pager.currentPage + 1,3)">
                                        <a class="page-link" href="javascript: void(0)">&gt;</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>

                    </div>
                </div>
            </div>
        </mat-tab>
        <mat-tab label="ACTION" *ngIf="authenticationService.isPermissionWithCode(PermissionConst.SYSTEM_MANAGEMENT.ACTION)">
            <div class="row view-inform" style="background-color: #fff; border: 1px solid #c8ced3;" permission-data='SYS_MANAGEMENT_ACTION_VIEW'>
                <div class="col-12 title-note" style="border-bottom: 1px solid #c8ced3;padding: 0.5em;">
                  <label style="font-size: 17px;
                              font-weight: 500;margin: 0px;">DANH SÁCH ACTION</label>
                  <span class="material-icons spanCursor view-inform" (click)="addAction()" style="color: blue;float: right;padding: 0.15em;" >add</span>
                </div>
                <div class="col-12" style="margin-top: 10px;padding: 0px;margin-bottom: 10px;display: flex;">
                    <div class="col-5" style="float: left;">
                        <div class="form-group" style="margin-bottom: 0px;display: flex;">
                            <label class="col-4 col-form-label" style="text-align: right;float: left;padding-right: 15px;">
                              Mã Function
                            </label>
<!--                            <ng-select  [multiple]="false" bindLabel="name" bindValue="id" formControlName="functionId"-->
<!--                                        placeholder="&#45;&#45; Chọn function &#45;&#45;">-->
<!--                              <ng-option *ngFor="let item of lstAllFunction" [value]="item.id">{{item.code + ' - ' + item.name}}</ng-option>-->
<!--                            </ng-select>-->
                          <div class="col-8 ">
                            <ng-select style="float: left;" class="col-12"  [(ngModel)]="functionCode" (change)="searchAction(functionCode)">
                              <option value="">-- Tất cả --</option>
                              <ng-option [value]="fnx.code" *ngFor="let fnx of lstAllFunction">{{fnx.name + ' (' + fnx.code + ')'}}</ng-option>
                            </ng-select> &nbsp;
                          </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row view-inform" permission-data='SYS_MANAGEMENT_ACTION_VIEW' style="margin-top: 5px;border: 1px solid #c8ced3;margin-bottom: 20px;">
                <div class="col-12" style="padding: 0px; clear: both;">
                    <div class="row" style="margin: 0px;">
                        <div class="col" style="background: white;margin-right: 0px;">
                            <div class="title-note" style="padding: 0.5em;border-bottom: 1px solid #c8ced3;">
                                <label style="font-size: 17px;
                            font-weight: 500;margin: 0px;">DANH SÁCH ACTION</label>
                            </div>
                            <!-- danh sách -->
                            <div class="  mat-elevation-z8">
                                <table class="table">
                                    <tr class="titleTD">
                                        <th style="width: 10%;">Mã Function</th>
                                        <th style="width: 10%;">Mã action</th>
                                        <th style="width: 20%;">Tên Action</th>
                                        <th style="width: 15%;">Url</th>
                                        <th style="width: 5%;">Method</th>
                                        <th style="width: 15%;">FE URL</th>
                                        <th style="width: 10%;">Image</th>
                                        <th style=" width: 10%;">Trạng thái</th>
                                       <th style="width: 10%">Hành động</th>
                                    </tr>
                                    <tr>
                                        <td colspan="7" style="text-align: center;height: 35px;" *ngIf="actions == null">
                                            <label>Không có bản ghi</label>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let action of actions" class="hoverTr">
                                        <td>{{action.functionCode}}</td>
                                        <td>{{action.code}}</td>
                                        <td>{{action.parentName}}</td>
                                        <td>{{action.url}}</td>
                                        <td>{{action.method}}</td>
                                        <td>{{action.feUrl}}</td>
                                        <td>{{action.imagePath}}</td>
                                        <td style="text-align: center;">{{getStatusCode(action.statusCode)}}</td>
                                        <td>
                                          <div style="display: block;text-align: center;font-size: 20px;">
                                            <i  style="margin-right: 5px;" class="fa fa-pencil-square-o" (click)="editAction(action)" aria-hidden="true"></i>
                                            <i class="fa fa-trash-o" (click)="deleteAction(action)" aria-hidden="true"></i>
                                          </div>

                                        </td>
                                    </tr>

                                </table>
                                <nav aria-label="Page navigation for action list" style="padding-bottom: 10px;margin-left: 10px;margin-right: 5px;padding-top: 10px;" *ngIf="pager.pager && pager.pager.pages && pager.pager.pages.length">
                                    <div style="float: left; padding-top: 10px;">
                                        <span>{{pager.pager.getStatus()}}</span>
                                    </div>
                                    <ul class="pagination justify-content-end">
                                        <div class="amout-show">
                                            <span>Số lượng bản ghi/trang</span> &nbsp;
                                            <select class="form-control numberPage" (change)="changePageSize($event.target.value,4)">
                                                <option selected value="10">10</option>
                                                <option value="20">20</option>
                                                <option value="50">50</option>
                                            </select> &nbsp;&nbsp;
                                        </div>
                                        <li class="page-item" (click)="setActionPage(pager.pager.currentPage - 1,4)">
                                            <a class="page-link" href="javascript: void(0)" tabindex="-1">&lt;</a>
                                        </li>
                                        <li class="page-item" *ngFor="let page of pager.pager.pages" [ngClass]="{active:pager.pager.currentPage === page}" (click)="setActionPage(page,4)">
                                            <a class="page-link" href="javascript: void(0)">{{page}}</a>
                                        </li>
                                        <li class="page-item" (click)="setActionPage(pager.pager.currentPage + 1,4)">
                                            <a class="page-link" href="javascript: void(0)">&gt;</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </mat-tab>
        <mat-tab label="Map Role - Function - Action" *ngIf="authenticationService.isPermissionWithCode(PermissionConst.SYSTEM_MANAGEMENT.ROLE_MAPPING)">
            <div class="view-inform" permission-data='SYS_MANAGEMENT_ROLE_MAPPING_ACTION'>
                <div class="row">
                    <div class="col col-light" style="background-color: #fff;">
                        <div>
                            <label class="title-group">Role</label>
                        </div>
                        <div style="height: 445px;overflow-y: auto;">
                            <ul>
                                <li *ngFor="let item of lstRoles;let i = index" style="border-bottom: 1px solid white;cursor: pointer;" [class.focusLi]="lstRoles[i].onFocus" (click)="selectRoleInTab(item,i)">
                                    <a>{{item.name}}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col col-light" style="background-color: #fff;">
                        <div>
                            <label class="title-group">Function</label>
                        </div>
                        <div style="height: 445px;overflow-y: auto;">
                            <table style="width: 99.9%;" class="table hovertd">
                                <tr *ngFor="let item of lstAllFunction;let i = index" [ngClass]="{'focusLi':lstAllFunction[i].onFocus}">
                                    <td style="cursor: pointer;" (click)="viewDetail(item)"><a [ngClass]="{'colorA':lstAllFunction[i].color,'returnColor':lstAllFunction[i].returnColor}" style="padding-left: 0px;">{{item.name}}</a></td>
                                    <td style="text-align: center;"><input type="checkbox" [checked]="lstAllFunction[i].checked" disabled>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="col col-light" style="background-color: #fff;margin-right: 0px;">
                        <div>
                            <label class="title-group" style="cursor: pointer" (click)="checkAll()">Action (Chọn tất cả )</label>
                        </div>
                        <div style="height: 445px;overflow-y: auto;">
                            <table style="width: 100%" class="table">
                                <tr *ngFor="let item of newLstAction;let i = index">
                                    <td>
                                      <b *ngIf="item.parentName">
                                        {{'[' + item.parentName + '] ' }}
                                      </b>
                                      {{ item.name}}
                                    </td>
                                    <td style="text-align: center;"><input type="checkbox" (click)="selectAction(item,$event)" [checked]="newLstAction[i].checked"></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="row" style="background: white;display: flow-root;border: 1px solid #c8ced3;margin-top: 5px;margin-bottom: 20px;">
                    <div style="float: right;
                    margin-bottom: 5px;margin-top: 5px;margin-right: 5px;">
                        <button [disabled]="!disabled" type="button" style="margin-right: 0px;" class="btn newfile btn-color" (click)="saveDefineRole()">Lưu thông
                            tin</button>
                    </div>
                </div>
            </div>


        </mat-tab>
    </mat-tab-group>
</div>
