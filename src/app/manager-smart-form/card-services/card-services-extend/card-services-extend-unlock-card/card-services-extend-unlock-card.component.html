<app-card-services-form [formGroup]="formCustomerInfo" [title]="'MỞ KHÓA THẺ'" [isShowLoading]="isShowLoading"
  [formType]="'SEND_APPROVE'" (eventBackStep)="backToSearch($event)" (eventOpenModal)="openModal()" [showPinCount]="true">
  <div class="field">
    <span class="txtLabel">Ngày hết hạn <span class="text-danger">(*)</span> :</span>
    <input type="text" formControlName="expireDate" class="form-control">
  </div>
  <div class="field">
    <span class="txtLabel">File đính kèm:</span>
    <app-card-service-extend-file-input [maxSize]="2097152" [validType]="['pdf','png','doc','docx']" #uploadFile
      [isRequire]="false" (changeFile)="changeSelectedFile($event)"></app-card-service-extend-file-input>
  </div>
  <div class="row-fields mb-2">
    <span class="txtLabel">Ghi chú <span class="text-danger">(*)</span> :</span>
    <textarea type="text" formControlName="sendNote" maxlength="1000" class="form-control"></textarea>
    <div class="err-text mt-1 text-left p-0" *ngIf="hasErrorInput('sendNote', 'required')">Ghi chú không
      được bỏ trống
    </div>
    <div class="err-text mt-1" *ngIf="hasErrorInput('reason', 'maxlength')">Ghi chú không được vượt quá 1000 ký tự</div>
  </div>
</app-card-services-form>

<!-- Modal confirm -->
<app-lpb-modal headerText="Xác nhận gửi duyệt Mở Khoá thẻ" [show]="showModal" (hideModal)="showModal = false"
  [widthContent]="50" [unit]="'%'" marginTop="200px">
  <div class="confirm-content">
    <div class="mb-2 confirm-txt">
      Bạn có chắc muốn gửi duyệt giao dịch Mở khoá thẻ?
    </div>
    <div class="mb-2 confirm-txt" *ngIf="cardSelected?.cardNumber">
      Số thẻ: {{cardSelected?.cardNumber}}
    </div>
    <div class="mt-4">
      <button class="btn btn-denied mr-2" (click)="this.showModal = false">
        Hủy bỏ
      </button>
      <button class="btn btn-accept" (click)="unlockCard()">
        Đồng ý
      </button>
    </div>
  </div>
</app-lpb-modal>
<!-- Modal confirm -->
